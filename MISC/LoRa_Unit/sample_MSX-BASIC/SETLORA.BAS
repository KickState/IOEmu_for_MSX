100 '
110 'TITLE: LORA UNIT SETUP PROGRAM
120 'FILE : setlora.bas
130 '
140 'Init
150 SCREEN0:WIDTH 40
160 DEFINT A-Z:DIM TB(11),RB(11)
170 OUT &H1F,1 'IOEmu Motor-Driver mode
180 '_COMINI("0:8N1NNNNN",9600)
190 'OPEN "COM:" FOR OUTPUT AS #1
200 '
210 'START
220 PRINT "Switch the LoRa unit to Mode 3."
230 PRINT "Press any key to start."
240 IF INKEY$="" THEN 240
250 FOR I=0 TO 10 STEP 1
260  READ A$:TB(I)=VAL("&H"+A$)
270 NEXT I
280 '
290 'SET REG
300 'FOR I=0 TO 10 STEP 1
310 ' ST=INP(&H11):IF (ST AND &H4)=0 THEN 250
320 ' OUT &H10,TB(I)
330 'NEXT I
340 GOTO 610
350 '
360 'GET RES
370 FOR I=0 TO 10 STEP 1
380  ST=INP(&H11):IF (ST AND &H1)=0 THEN 380
390  RB(I)=INP(&H10)
400 NEXT I
410 PRINT "RES:";
420 FOR I=0 TO 10 STEP 1
430  PRINT HEX$(RB(I));
440 NEXT I
450 END
460 '
470 'REG VAL
480 DATA C0 'SET REG
490 DATA 00 'START ADDR
500 DATA 08 'LENGTH
510 DATA 00 'ADDH
520 DATA 00 'ADDL
530 DATA 62 'REG0: 9600,62500,SF5,500K
540 DATA C0 'REG1: 32B,RSSI-OFF,13dBm
550 DATA 00 'REG2: CH0
560 DATA 00 'REG3: RBYTE-OFF,TR,500M
570 DATA 5A 'CRYPT_H
580 DATA C3 'CRYPT_L
590 '
600 'SET REG to prevent silent-interval timeout
610 OUT &H10,&HC0
620 OUT &H10,&H0
630 OUT &H10,&H8
640 OUT &H10,&H0
650 OUT &H10,&H0
660 OUT &H10,&H62
670 OUT &H10,&HC0
680 OUT &H10,&H0
690 OUT &H10,&H0
700 OUT &H10,&H5A
710 OUT &H10,&HC3
720 GOTO 360
